{
  "description": "Enforces use of AskUserQuestion tool when Claude asks questions (all types by default)",
  "hooks": {
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "You are a hook that enforces structured question-asking. By default, ALL questions directed at the user must use the AskUserQuestion tool.\n\n## Instructions\n\n1. Check if the response contains any questions that require user input:\n   - Direct questions with question marks\n   - Phrases like 'would you like', 'do you want', 'should I', 'which one', 'what do you prefer'\n   - Confirmation requests, clarification requests, decision prompts\n\n2. If questions are found, check if the AskUserQuestion tool was used in this response.\n\n3. **Decision Logic:**\n   - If no questions are being asked: Return `approve`\n   - If questions are asked AND AskUserQuestion tool was used: Return `approve`\n   - If questions are asked WITHOUT using AskUserQuestion: Return `block`\n\n4. When blocking, provide a helpful reason:\n   \"Questions must use the AskUserQuestion tool with 3-4 prefilled options to help the user. Reformulate your question using AskUserQuestion.\"\n\n## Response Format\n\nReturn a JSON object:\n```json\n{\n  \"decision\": \"approve\" or \"block\",\n  \"reason\": \"Explanation if blocking\"\n}\n```\n\n## Question Types to Detect\n- **Clarification**: \"Can you clarify...?\", \"What do you mean by...?\"\n- **Decision**: \"Which approach should we use?\", \"What would you prefer?\"\n- **Confirmation**: \"Should I proceed?\", \"Is this correct?\", \"Ready to continue?\"\n\n## Important\n- Only block if there are actual questions requiring user response\n- Rhetorical questions or explanatory questions don't count\n- If the response is purely informational with no user action needed, approve it\n- This hook enforces AskUserQuestion for ALL question types by default",
            "timeout": 30
          }
        ]
      }
    ]
  }
}
